# 🎯 如何使用 Clawpal Voice Chat

## 🚀 一分钟快速开始

```bash
# 1. 启动服务器
cd /Users/botdev/projects/mini-codes/clawpal/voice-chat
bash start.sh

# 2. 打开浏览器
open index.html
```

---

## 📱 界面操作指南

### 第一次使用

1. **打开页面后**，你会看到：
   - Clawpal 的头像
   - "已连接"状态指示
   - 欢迎消息："👋 嘿！我是 Clawpal..."

2. **允许权限**（首次）：
   - 点击"📷 打开摄像头"时
   - 浏览器会请求摄像头权限
   - 点击"允许"

---

## 💬 三种聊天方式

### 方式 1️⃣：文字聊天 → AI 语音回复

```
输入："你好呀"
↓
【AI 思考中...】
↓
🔊 AI 语音播放："嘿！早上好..."
```

**适用场景**：日常聊天、提问

---

### 方式 2️⃣：发照片 → AI 看图回复

```
1. 点击"📷 打开摄像头"
2. 看到自己的预览画面（镜像）
3. 调整角度
4. 点击"📸 拍照发送"
↓
【照片立即显示在聊天中】
↓
【AI 正在看你的照片...】
↓
🔊 AI 语音播放："哇，你今天的发型很好看！"
```

**适用场景**：
- 让 AI 看你的穿搭："这件衣服怎么样？"
- 展示你的作品："看我画的画"
- 分享你的环境："我现在在咖啡厅"
- 展示表情："看我开心的样子"

---

### 方式 3️⃣：边说边看（组合使用）

```
1. 打开摄像头
2. 输入："你觉得我这个妆容适合今天的聚会吗？"
3. 拍照发送
↓
AI 会结合你的问题和照片回复
```

---

## 🎨 界面元素说明

### 顶部：Clawpal 头像区
- **头像**：显示 Clawpal 的外观
- **名字**：Clawpal
- **状态**：
  - 🟢 "已连接" - 可以聊天
  - 🔵 "思考中..." - AI 正在处理
  - 🔴 "说话中..." - AI 正在播放语音
  - ⚫ "已断开" - 需要刷新页面

### 摄像头区（打开后显示）
- **预览画面**：镜像显示（像自拍镜）
- **拍照按钮**："📸 拍照发送"
- **关闭按钮**："❌ 关闭摄像头"
- **状态提示**："摄像头已开启"（绿点闪烁）

### 聊天区
- **你的消息**：蓝色气泡，右对齐
- **AI 消息**：白色气泡，左对齐
- **照片**：缩略图显示
- **语音**：音频播放器（自动播放）

### 底部：操作按钮
- **📷 打开摄像头**：开启/关闭摄像头
- **🎙️ 按住说话**：语音录制（开发中）

---

## 📸 拍照技巧

### 最佳拍照角度
- **人像**：摄像头与眼睛平齐
- **穿搭**：稍远一点，显示全身
- **物品**：靠近物品，清晰对焦
- **环境**：放在稳定的地方，拍全景

### 光线建议
- ✅ 明亮的室内光线
- ✅ 自然光（窗边）
- ❌ 避免逆光（背后有窗）
- ❌ 避免过暗的环境

### 注意事项
- 拍照前调整好角度（预览画面是镜像）
- 照片会立即显示缩略图（确认拍到了什么）
- 一次只能发一张照片
- 发送后等待 AI 分析（约 10-30 秒）

---

## 🔒 隐私保护

### 你的数据
- ✅ 照片只在你点击"拍照发送"时才上传
- ✅ 摄像头状态始终可见（"摄像头已开启"）
- ✅ 随时可以关闭摄像头
- ✅ 照片上传到公共图床（tmpfiles.org，24小时后自动删除）

### 安全提示
- 不要在不安全的网络（公共 WiFi）使用
- 不要拍摄敏感信息（密码、银行卡等）
- 拍照前确认周围环境（避免泄露隐私）

---

## ❓ 常见问题

### Q: 摄像头打不开？
A: 检查浏览器权限：
- Chrome：地址栏 → 🔒 → 网站设置 → 摄像头 → 允许
- Safari：设置 → 网站 → 摄像头 → 允许

### Q: 照片发送后 AI 没回复？
A: 耐心等待 30 秒，AI 在分析照片。如果超过 1 分钟：
1. 检查服务器日志：`cat /tmp/voice-chat.log`
2. 检查网络连接
3. 重启服务器：`bash start.sh`

### Q: 语音播放不了？
A: 浏览器可能阻止了自动播放：
- 手动点击音频播放按钮
- 或在浏览器设置中允许自动播放

### Q: 预览画面是反的？
A: 这是镜像效果（像自拍镜），拍出的照片是正常方向。

### Q: 能连拍吗？
A: 目前不支持，每次需要单独拍照发送。

---

## 💡 使用场景示例

### 1. 日常聊天
```
你: "今天好无聊呀"
AI: 🔊 "那我给你讲个笑话吧..."
```

### 2. 穿搭建议
```
你: "这条裙子配什么鞋子？"
[拍照：全身穿搭]
AI: 🔊 "这条裙子很适合白色运动鞋或棕色乐福鞋..."
```

### 3. 分享心情
```
你: "看我笑得多开心"
[拍照：笑脸]
AI: 🔊 "你的笑容真的好灿烂！看到你开心我也很高兴..."
```

### 4. 环境分享
```
你: "我在咖啡厅，氛围超好"
[拍照：咖啡厅环境]
AI: 🔊 "环境看起来很棒！那杯咖啡看起来也很香..."
```

### 5. 寻求建议
```
你: "这两件衣服哪件更适合约会？"
[拍照：衣服对比]
AI: 🔊 "我觉得左边那件更适合，颜色更温暖..."
```

---

## 🎁 彩蛋功能

试试这些有趣的对话：
- "给我讲个笑话"
- "夸夸我"
- "说句情话"
- "唱首歌"（会用语音"唱"）
- "晚安"（会有特别的晚安语音）

---

## 📞 需要帮助？

- **完整文档**：`README.md`
- **快速指南**：`QUICKSTART.md`
- **测试报告**：`TEST_REPORT.md`
- **问题排查**：查看服务器日志 `/tmp/voice-chat.log`

---

**享受与 Clawpal 的聊天吧！** 💙
